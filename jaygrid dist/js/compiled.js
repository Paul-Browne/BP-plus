/* typeScale, fullSizes, middlize, imageCover and responsiveImages helper scripts*/
/* inc. jaygrid */
function typeScale(){var a=window.innerWidth,b=document.getElementsByTagName("body")[0].style;b.fontSize=a/375+15+"px",b.lineHeight=a/8e3+1.4}function helperize(){$(".fullheight,.fullscreen").each(function(){var a=window.innerHeight;$(this).height(a)}),$(".middlize,.vmid").each(function(){var a=($(this).parent().height()-$(this).height())/2;$(this).css({top:a}),$(this).parent().css({overflow:"hidden"})}),$(".icovr").each(function(){var a=$(this).width(),b=$(this).height(),c=a/b,d=$(this).children("img")[0].naturalWidth,e=$(this).children("img")[0].naturalHeight,f=d/e;c>=f&&$(this).children("img").css({position:"absolute",width:"100%",height:"auto",top:(b-e/(d/a))/2+"px",left:0}),f>c&&$(this).children("img").css({position:"absolute",width:"auto",height:"100%",left:(a-d/(e/b))/2+"px",top:0})})}function makeImagesResponsive(){var a=document.getElementsByTagName("body")[0].getElementsByTagName("img");if(0!==a.length){var b;b=a[0].hasAttribute?function(a,b){return a.hasAttribute(b)}:function(a,b){return null!==a.getAttribute(b)};for(var c=window.devicePixelRatio?window.devicePixelRatio>=1.2?1:0:0,d=0;d<a.length;d++){var e=a[d],f=e.parentNode.offsetWidth,g=c&&b(e,"data-src2x")?"data-src2x":"data-src",h=c&&b(e,"data-src-base2x")?"data-src-base2x":"data-src-base";if(b(e,g)){for(var i=b(e,h)?e.getAttribute(h):"",j=e.getAttribute(g),k=j.split(","),l=0;l<k.length;l++){var m,n,o=k[l].replace(":","||").split("||"),p=o[0],q=o[1];if(-1!==p.indexOf("<"))if(m=p.split("<"),k[l-1]){var r=k[l-1].split(/:(.+)/),s=r[0].split("<");n=f<=m[1]&&f>s[1]}else n=f<=m[1];else if(m=p.split(">"),k[l+1]){var t=k[l+1].split(/:(.+)/),u=t[0].split(">");n=f>=m[1]&&f<u[1]}else n=f>=m[1];if(n){var v,w=-1!==q.indexOf("//")?1:0;v=1===w?q:i+q,e.src!==v&&e.setAttribute("src",v);break}}var x=a[d];x.addEventListener("load",helperize)}}}}!function(a){var d,e,f,g,h;a.jaygrid=function(b){function c(a,b,c){return l=new RegExp(b+"-"+c+"-\\d+-\\d+","g"),m=a.attr("class").match(l)[0].split("-"),d=parseInt(m.slice(2,3)),e=parseInt(m.slice(3,4)),[d,e]}function b(b){var f=[];return a.each(b,function(){if(a(this).is("[class*='d-col-']")&&!a(this).is("[class*='d-left-']")&&!a(this).is("[class*='d-right-']")){a(this).is("[class*='d-offset-']")||(c(a(this),"d","col"),f.push(d/e)),a(this).is("[class*='d-offset-']")&&(c(a(this),"d","col"),f.push(d/e),c(a(this),"d","offset"),f.push(d/e));for(var b=0,g=0;b<f.length;g+=f[b++]);1==f.length&&a(this).addClass("d-first"),g>.99&&1.01>g&&(f.splice(0,f.length),a(this).addClass("d-last"))}}),f}function j(b){var f=[];return a.each(b,function(){if(a(this).is("[class*='m-col-']")&&!a(this).is("[class*='m-left-']")&&!a(this).is("[class*='m-right-']")){a(this).is("[class*='m-offset-']")||(c(a(this),"m","col"),f.push(d/e)),a(this).is("[class*='m-offset-']")&&(c(a(this),"m","col"),f.push(d/e),c(a(this),"m","offset"),f.push(d/e));for(var b=0,g=0;b<f.length;g+=f[b++]);1==f.length&&a(this).addClass("m-first"),g>.99&&1.01>g&&(f.splice(0,f.length),a(this).addClass("m-last"))}}),f}function k(b){var f=[];return a.each(b,function(){if(a(this).is("[class*='t-col-']")&&!a(this).is("[class*='t-left-']")&&!a(this).is("[class*='t-right-']")){a(this).is("[class*='t-offset-']")||(c(a(this),"t","col"),f.push(d/e)),a(this).is("[class*='t-offset-']")&&(c(a(this),"t","col"),f.push(d/e),c(a(this),"t","offset"),f.push(d/e));for(var b=0,g=0;b<f.length;g+=f[b++]);1==f.length&&a(this).addClass("t-first"),g>.99&&1.01>g&&(f.splice(0,f.length),a(this).addClass("t-last"))}}),f}var i=a.extend({margin:4,mobile_tablet:656,tablet_desktop:1024},b);if(a("[class*='-first']").each(function(){a(this).parent().hasClass("clearfix")&&a(this).unwrap()}),a("[class*='-col-'],[class*='-center-']").each(function(){a(this).css({display:"block",position:"relative","float":"none",width:"100%","max-width":"100%","margin-left":0,"margin-right":0,"min-height":1})}),window.innerWidth>=i.tablet_desktop){for(var l=a("body"),m=[];l.length;)m=a.merge(m,b(l)),l=l.children();a("[class*='d-col-']").each(function(){f=c(a(this),"d","col"),g=(i.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":i.margin+"%","float":"left"}),a(this).data("w",g)}),a("[class*='d-center-']").each(function(){f=c(a(this),"d","center"),g=(i.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",g)}),a("[class*='d-offset-']").each(function(){h=c(a(this),"d","offset"),g=a(this).hasClass("d-first")?h[0]*(i.margin+100)/h[1]:(i.margin*(h[0]+h[1])+100*h[0])/h[1],a(this).css({"margin-left":g+"%"})}),a("[class*='d-left-']").each(function(){h=c(a(this),"d","left"),g=100*(h[0]*(i.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-left":-g+"%","margin-right":i.margin+"%"})}),a("[class*='d-right-']").each(function(){h=c(a(this),"d","right"),g=100*(h[0]*(i.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-right":-g+"%","margin-left":i.margin+"%","float":"right"})}),a(".d-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".d-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".d-hide").each(function(){a(this).css({display:"none"})})}if(window.innerWidth<i.mobile_tablet){for(var l=a("body"),n=[];l.length;)n=a.merge(n,j(l)),l=l.children();a("[class*='m-col-']").each(function(){f=c(a(this),"m","col"),g=(i.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":i.margin+"%","float":"left"}),a(this).data("w",g)}),a("[class*='m-center-']").each(function(){f=c(a(this),"m","center"),g=(i.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",g)}),a("[class*='m-offset-']").each(function(){h=c(a(this),"m","offset"),g=a(this).hasClass("m-first")?h[0]*(i.margin+100)/h[1]:(i.margin*(h[0]+h[1])+100*h[0])/h[1],a(this).css({"margin-left":g+"%"})}),a("[class*='m-left-']").each(function(){h=c(a(this),"m","left"),g=100*(h[0]*(i.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-left":-g+"%","margin-right":i.margin+"%"})}),a("[class*='m-right-']").each(function(){h=c(a(this),"m","right"),g=100*(h[0]*(i.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-right":-g+"%","margin-left":i.margin+"%","float":"right"})}),a(".m-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".m-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".m-hide").each(function(){a(this).css({display:"none"})})}if(window.innerWidth<i.tablet_desktop&&window.innerWidth>=i.mobile_tablet){for(var l=a("body"),o=[];l.length;)o=a.merge(o,k(l)),l=l.children();a("[class*='t-col-']").each(function(){f=c(a(this),"t","col"),g=(i.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":i.margin+"%","float":"left"}),a(this).data("w",g)}),a("[class*='t-center-']").each(function(){f=c(a(this),"t","center"),g=(i.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",g)}),a("[class*='t-offset-']").each(function(){h=c(a(this),"t","offset"),g=a(this).hasClass("t-first")?h[0]*(i.margin+100)/h[1]:(i.margin*(h[0]+h[1])+100*h[0])/h[1],a(this).css({"margin-left":g+"%"})}),a("[class*='t-left-']").each(function(){h=c(a(this),"t","left"),g=100*(h[0]*(i.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-left":-g+"%","margin-right":i.margin+"%"})}),a("[class*='t-right-']").each(function(){h=c(a(this),"t","right"),g=100*(h[0]*(i.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-right":-g+"%","margin-left":i.margin+"%","float":"right"})}),a(".t-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".t-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".t-hide").each(function(){a(this).css({display:"none"})})}$(document).trigger("jready")}}(jQuery),$(document).on("jready",makeImagesResponsive),$(document).on("jready",helperize),window.addEventListener("resize",typeScale),window.addEventListener("resize",$.jaygrid);










// inits.

$(function(){
  typeScale();
  $.jaygrid();
});
