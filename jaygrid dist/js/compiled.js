/* typeScale, fullSizes, middlize, imageCover and responsiveImages helper scripts*/
/* inc. jaygrid */
function typeScale(){var a=window.innerWidth,b=document.getElementsByTagName("body")[0].style;b.fontSize=a/375+15+"px",b.lineHeight=a/8e3+1.4}function helperize(){$(".fullheight,.fullscreen").each(function(){var a=window.innerHeight;$(this).height(a)}),$(".middlize,.vmid").each(function(){var a=($(this).parent().height()-$(this).height())/2;$(this).css({top:a}),$(this).parent().css({overflow:"hidden"})}),$(".middlize").each(function(){var a=($(this).parent().width()-$(this).width())/2;$(this).css({left:a})}),$(".icovr").each(function(){var a=$(this).width(),b=$(this).height(),c=a/b,d=$(this).children("img")[0].naturalWidth,e=$(this).children("img")[0].naturalHeight,f=d/e;c>=f&&$(this).children("img").css({position:"absolute",width:"100%",height:"auto",top:(b-e/(d/a))/2+"px",left:0}),f>c&&$(this).children("img").css({position:"absolute",width:"auto",height:"100%",left:(a-d/(e/b))/2+"px",top:0})})}function makeImagesResponsive(){var a=document.getElementsByTagName("body")[0].getElementsByTagName("img");if(0!==a.length){var b;b=a[0].hasAttribute?function(a,b){return a.hasAttribute(b)}:function(a,b){return null!==a.getAttribute(b)};for(var c=window.devicePixelRatio?window.devicePixelRatio>=1.2?1:0:0,d=0;d<a.length;d++){var e=a[d],f=e.parentNode.offsetWidth,g=c&&b(e,"data-src2x")?"data-src2x":"data-src",h=c&&b(e,"data-src-base2x")?"data-src-base2x":"data-src-base";if(b(e,g)){for(var i=b(e,h)?e.getAttribute(h):"",j=e.getAttribute(g),k=j.split(","),l=0;l<k.length;l++){var m,n,o=k[l].replace(":","||").split("||"),p=o[0],q=o[1];if(-1!==p.indexOf("<"))if(m=p.split("<"),k[l-1]){var r=k[l-1].split(/:(.+)/),s=r[0].split("<");n=f<=m[1]&&f>s[1]}else n=f<=m[1];else if(m=p.split(">"),k[l+1]){var t=k[l+1].split(/:(.+)/),u=t[0].split(">");n=f>=m[1]&&f<u[1]}else n=f>=m[1];if(n){var v,w=-1!==q.indexOf("//")?1:0;v=1===w?q:i+q,e.src!==v&&e.setAttribute("src",v);break}}var x=a[d];x.addEventListener("load",helperize)}}}}!function(a){var b,c,d,e,f;a.jaygrid=function(g){function h(a,d,e){return l=new RegExp(d+"-"+e+"-\\d+-\\d+","g"),m=a.attr("class").match(l)[0].split("-"),b=parseInt(m.slice(2,3)),c=parseInt(m.slice(3,4)),[b,c]}function g(d){var e=[];return a.each(d,function(){if(a(this).is("[class*='d-col-']")&&!a(this).is("[class*='d-left-']")&&!a(this).is("[class*='d-right-']")){a(this).is("[class*='d-offset-']")||(h(a(this),"d","col"),e.push(b/c)),a(this).is("[class*='d-offset-']")&&(h(a(this),"d","col"),e.push(b/c),h(a(this),"d","offset"),e.push(b/c));for(var d=0,f=0;d<e.length;f+=e[d++]);1==e.length&&a(this).addClass("d-first"),f>.99&&1.01>f&&(e.splice(0,e.length),a(this).addClass("d-last"))}}),e}function i(d){var e=[];return a.each(d,function(){if(a(this).is("[class*='m-col-']")&&!a(this).is("[class*='m-left-']")&&!a(this).is("[class*='m-right-']")){a(this).is("[class*='m-offset-']")||(h(a(this),"m","col"),e.push(b/c)),a(this).is("[class*='m-offset-']")&&(h(a(this),"m","col"),e.push(b/c),h(a(this),"m","offset"),e.push(b/c));for(var d=0,f=0;d<e.length;f+=e[d++]);1==e.length&&a(this).addClass("m-first"),f>.99&&1.01>f&&(e.splice(0,e.length),a(this).addClass("m-last"))}}),e}function j(d){var e=[];return a.each(d,function(){if(a(this).is("[class*='t-col-']")&&!a(this).is("[class*='t-left-']")&&!a(this).is("[class*='t-right-']")){a(this).is("[class*='t-offset-']")||(h(a(this),"t","col"),e.push(b/c)),a(this).is("[class*='t-offset-']")&&(h(a(this),"t","col"),e.push(b/c),h(a(this),"t","offset"),e.push(b/c));for(var d=0,f=0;d<e.length;f+=e[d++]);1==e.length&&a(this).addClass("t-first"),f>.99&&1.01>f&&(e.splice(0,e.length),a(this).addClass("t-last"))}}),e}var k=a.extend({margin:4,mobile_tablet:656,tablet_desktop:1024},g);if(a("[class*='-first']").each(function(){a(this).parent().hasClass("clearfix")&&a(this).unwrap()}),a("[class*='-col-'],[class*='-center-']").each(function(){a(this).css({display:"block",position:"relative","float":"none",width:"100%","max-width":"100%","margin-left":0,"margin-right":0,"min-height":1})}),window.innerWidth>=k.tablet_desktop){for(var l=a("body"),m=[];l.length;)m=a.merge(m,g(l)),l=l.children();a("[class*='d-col-']").each(function(){d=h(a(this),"d","col"),e=(k.margin*(d[0]-d[1])+100*d[0])/d[1],a(this).css({width:e+"%","max-width":e+"%","margin-left":k.margin+"%","float":"left"}),a(this).data("w",e)}),a("[class*='d-center-']").each(function(){d=h(a(this),"d","center"),e=(k.margin*(d[0]-d[1])+100*d[0])/d[1],a(this).css({width:e+"%","max-width":e+"%","margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",e)}),a("[class*='d-offset-']").each(function(){f=h(a(this),"d","offset"),e=a(this).hasClass("d-first")?f[0]*(k.margin+100)/f[1]:(k.margin*(f[0]+f[1])+100*f[0])/f[1],a(this).css({"margin-left":e+"%"})}),a("[class*='d-left-']").each(function(){f=h(a(this),"d","left"),e=100*(f[0]*(k.margin+100)/f[1]/a(this).parent().data("w")),a(this).css({"margin-left":-e+"%","margin-right":k.margin+"%"})}),a("[class*='d-right-']").each(function(){f=h(a(this),"d","right"),e=100*(f[0]*(k.margin+100)/f[1]/a(this).parent().data("w")),a(this).css({"margin-right":-e+"%","margin-left":k.margin+"%","float":"right"})}),a(".d-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".d-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".d-hide").each(function(){a(this).css({display:"none"})}),$(document).trigger("jready")}if(window.innerWidth<k.mobile_tablet){for(var l=a("body"),n=[];l.length;)n=a.merge(n,i(l)),l=l.children();a("[class*='m-col-']").each(function(){d=h(a(this),"m","col"),e=(k.margin*(d[0]-d[1])+100*d[0])/d[1],a(this).css({width:e+"%","max-width":e+"%","margin-left":k.margin+"%","float":"left"}),a(this).data("w",e)}),a("[class*='m-center-']").each(function(){d=h(a(this),"m","center"),e=(k.margin*(d[0]-d[1])+100*d[0])/d[1],a(this).css({width:e+"%","max-width":e+"%","margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",e)}),a("[class*='m-offset-']").each(function(){f=h(a(this),"m","offset"),e=a(this).hasClass("m-first")?f[0]*(k.margin+100)/f[1]:(k.margin*(f[0]+f[1])+100*f[0])/f[1],a(this).css({"margin-left":e+"%"})}),a("[class*='m-left-']").each(function(){f=h(a(this),"m","left"),e=100*(f[0]*(k.margin+100)/f[1]/a(this).parent().data("w")),a(this).css({"margin-left":-e+"%","margin-right":k.margin+"%"})}),a("[class*='m-right-']").each(function(){f=h(a(this),"m","right"),e=100*(f[0]*(k.margin+100)/f[1]/a(this).parent().data("w")),a(this).css({"margin-right":-e+"%","margin-left":k.margin+"%","float":"right"})}),a(".m-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".m-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".m-hide").each(function(){a(this).css({display:"none"})}),$(document).trigger("jready")}if(window.innerWidth<k.tablet_desktop&&window.innerWidth>=k.mobile_tablet){for(var l=a("body"),o=[];l.length;)o=a.merge(o,j(l)),l=l.children();a("[class*='t-col-']").each(function(){d=h(a(this),"t","col"),e=(k.margin*(d[0]-d[1])+100*d[0])/d[1],a(this).css({width:e+"%","max-width":e+"%","margin-left":k.margin+"%","float":"left"}),a(this).data("w",e)}),a("[class*='t-center-']").each(function(){d=h(a(this),"t","center"),e=(k.margin*(d[0]-d[1])+100*d[0])/d[1],a(this).css({width:e+"%","max-width":e+"%","margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",e)}),a("[class*='t-offset-']").each(function(){f=h(a(this),"t","offset"),e=a(this).hasClass("t-first")?f[0]*(k.margin+100)/f[1]:(k.margin*(f[0]+f[1])+100*f[0])/f[1],a(this).css({"margin-left":e+"%"})}),a("[class*='t-left-']").each(function(){f=h(a(this),"t","left"),e=100*(f[0]*(k.margin+100)/f[1]/a(this).parent().data("w")),a(this).css({"margin-left":-e+"%","margin-right":k.margin+"%"})}),a("[class*='t-right-']").each(function(){f=h(a(this),"t","right"),e=100*(f[0]*(k.margin+100)/f[1]/a(this).parent().data("w")),a(this).css({"margin-right":-e+"%","margin-left":k.margin+"%","float":"right"})}),a(".t-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".t-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".t-hide").each(function(){a(this).css({display:"none"})}),$(document).trigger("jready")}}}(jQuery),$(document).on("jready",makeImagesResponsive),$(document).on("jready",helperize),window.addEventListener("resize",typeScale),window.addEventListener("resize",$.jaygrid);



// inits. go here

$(function(){
  typeScale();
  $.jaygrid();
});
